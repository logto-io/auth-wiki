---
title: 角色 (Role)
tags: [authorization]
description: 角色是访问控制系统中权限的集合，定义了用户可以执行的操作，为管理和分配用户的访问权限提供了一种高效的方式。
---

## 什么是角色 (Role)？

角色是基于角色的访问控制 (RBAC) 系统中的核心概念。在 RBAC 中，角色是可以分配给用户的权限组。它们提供了一种汇集不同 API 定义的权限的方式，使得添加、移除或调整权限比单独分配给用户更高效。

角色充当用户和权限之间的中介，允许管理员更有效地管理访问权限，特别是在大规模系统中。

## 角色是如何构建的？

让我们看一个 `order_admin` 角色的例子来了解角色通常是如何构建的：

角色：`order_admin`  
权限：
- 订单资源：
  - `read:orders`（查看订单详情）
  - `write:orders`（编辑订单信息）
  - `delete:orders`（从系统中移除订单）

- 产品资源：
  - `read:products`（查看产品信息）
  - `write:products`（编辑产品详情）

这个例子演示了如何将多个相关权限组合到一个角色中，从而使管理员更容易将权限分配给用户。通过为用户分配 `order_admin` 角色，该用户无需单独分配每个权限即可获得管理订单和产品所需的权限。

## 什么是权限？

权限指的是访问资源或在资源上执行操作的授权。在现实世界中，诸如订单、产品和文档等实体可以被指定为资源，并可以分配各种操作。

权限示例包括：

- 资源：订单
  - `write:orders`：编辑订单
- 资源：文档
  - `read:documents`：阅读文档
- 资源：产品
  - `delete:products`：删除产品

这些例子清楚地展示了权限与特定资源之间的关系。

## 角色和权限如何协同工作？

角色本质上是权限的集合。当将角色分配给用户时，他们会继承与该角色相关的所有权限。这使得在较大范围内的访问控制管理更加容易。

## 为什么要在访问控制中使用角色？

1. **简化管理**：管理员可以分配角色而不是单个权限，这更加高效。
2. **一致性**：角色确保具有相同职责的用户拥有相同的权限集。
3. **可扩展性**：随着系统的增长，角色使得管理大量用户的权限更加容易。
4. **灵活性**：角色可以轻松修改，这些更改会立即反映在分配给该角色的所有用户。
5. **与业务逻辑对齐**：角色通常与组织内的工作职能或职责相对应，使其设置和管理更加直观。

通过有效利用角色，RBAC 系统可以在保持强大安全性的同时，实现高效的权限管理和用户访问控制。

## 如何有效地组织和管理角色？

在你的应用中实施 RBAC 时，有效地组织角色至关重要。以下是一些最佳实践：

1. 从角色层次结构开始。例如，在 BookHarber 中：
   - 基础角色：访客
   - 用户角色：客户
   - 员工角色：客户服务代理、图书经理、营销人员
   - 管理员角色：商店管理员

   该层次结构允许更容易地管理和继承权限。

2. 让高级角色从低级角色继承权限。例如，商店管理员角色可以继承其他员工角色的所有权限。

3. 仅为每个角色分配最低必要的权限。这样可以降低用户账户被破坏时未授权访问的风险。

4. 基于组织内的实际工作职责创建角色。这样角色分配更直观、更易于管理。

5. 对于需要多个角色权限的用户，创建复合角色而不是分配多个单独的角色。

6. 定期审查和审核你的角色结构，以确保其仍然符合组织的需求和安全要求。

7. 根据用户的角色调整用户界面。通过仅显示相关信息和控件来改善用户体验。

8. 保持角色、其权限以及角色设计背后原理的清晰文档。这有助于新团队成员入职和未来系统维护。

9. 选择描述性角色名称，清楚地表明功能或访问级别，如“ReadOnlyUser”或“SeniorEditor”。

10. 设计你的角色结构以适应组织的未来增长和变化。

通过遵循这些最佳实践，你可以创建一个健壮且可管理的 RBAC 系统，增强你的应用安全性，同时提供流畅的用户体验。

## 相关资源

<Resources
  urls={[
    "https://blog.logto.io/rbac-and-abac",
    "https://blog.logto.io/mastering-rbac",
    "https://blog.logto.io/organization-and-role-based-access-control",
  ]}
/>
