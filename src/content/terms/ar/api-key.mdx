---
title: مفتاح API (API key)
tags: [authentication, api]
description: مفتاح API (API key) هو معرف فريد يُستخدم للمصادقة (authenticate) وتفويض العميل عند الوصول إلى API. يعمل كمفتاح سري يتم تضمينه في طلبات API للتحقق من هوية العميل والسماح بالوصول إلى موارد أو خدمات محددة. تُستخدم مفاتيح API عادةً في اتصالات من خادم إلى خادم أو عند الوصول إلى بيانات عامة.
---

## ما هو مفتاح الـ API ؟

تُستخدم مفاتيح API لتحديد وتفويض التطبيق أو الخدمة التي تقوم بالاتصال. عادةً ما تكون هذه المفاتيح طويلة الأمد وثابتة حتى يتم تدويرها وغالبًا ما تمتلك مجموعة ثابتة من الأذونات. تُستخدم بشكل أساسي في اتصالات من خادم إلى خادم أو الوصول إلى بيانات عامة، وعادةً ما لا تُمثل هذه الرموز مستخدمًا معينًا.

## كيف يعمل مفتاح الـ API ؟

مفتاح API هو سلسلة طويلة من الأحرف يتم إنشاؤها بواسطة موفر API ويتم مشاركتها مع المستخدمين المصرح لهم. يجب تضمين هذا المفتاح في ترويسة الطلب عند الوصول إلى API. تعتبر مفاتيح API بسيطة وفعالة لتلبية احتياجات الأمان الأساسية. على سبيل المثال، تقدم خدمات شهيرة مثل Google Maps API وAWS مفاتيح API للتحكم في الوصول ومراقبة الاستخدام.

```java
curl -GET https://api.example.com/endpoint -H "Authorization: api-key YOUR_API_KEY"
```

مفاتيح API ليست فعالة مثل الأشكال الأخرى من مصادقة API، مثل OAuth وJWT، لكنها تلعب دورًا مهمًا في مساعدة منتجي API في مراقبة الاستخدام نظرًا لأنها الطريقة الأكثر بساطة وشيوعًا لتأمين APIs.

## ما هي مميزاته وعيوبه؟

### المميزات

- سهل التطبيق: مفاتيح API سهلة التطبيق والاستخدام. يتضمن الأمر إرفاق مفتاح بترويسة الطلب، مما يجعله طريقة مباشرة بالنسبة للمطورين والعملاء لفهمه واستخدامه.
- سهل المتابعة: مفاتيح API سهلة المتابعة. يمكنك تتبع استخدام كل مفتاح وإلغائها إذا لزم الأمر.
- تحديد معدل فعال: مفاتيح API فعالة في تحديد المعدل. يمكنك تعيين حد لعدد الطلبات لكل مفتاح لمنع الإساءة.
- مناسب للبيانات غير الحساسة: مفاتيح API مناسبة للبيانات غير الحساسة أو API العامة المتاحة للجمهور، حيث تكون متطلبات الأمان أقل.

### العيوب

- أمان محدود: مفاتيح API ليست آمنة بما يكفي للبيانات الحساسة، خاصةً لتطبيقات العميل. تُستخدم غالبًا في اتصالات من آلة إلى آلة.
- غير مناسبة لمصادقة المستخدم: مفاتيح API مرتبطة بالتطبيقات أو الأنظمة، وليس الأفراد، مما يجعل من الصعب تحديد المستخدمين المحددين أو تتبع أفعالهم.
- لا انتهاء صلاحية للرمز: مفاتيح API عادةً ما تكون ثابتة ولا تنتهي صلاحيتها. إذا تم اختراق أحد المفاتيح، قد يتم إساءة استخدامها إلى أجل غير مسمى ما لم يتم إعادة إنشائها يدويًا.

## ما هي حالات الاستخدام لمفاتيح API ؟

- اتصال من خدمة إلى خدمة: مفاتيح API مناسبة للسيناريوهات التي تحتاج فيها التطبيقات للتواصل مع APIs مباشرةً عبر CLI. مثل الاتصال بـ OpenAI APIs.
- APIs العامة: عند الكشف عن APIs للجمهور، توفر مفاتيح API طريقة وصول سهلة للتحكم.
- إعداد مبسط: للاحتياجات السريعة والبسيطة للمصادقة، خاصة في مرحلة التطوير. على عكس مصادقة آلة إلى آلة، لا تتطلب مفاتيح API تسجيل العميل مسبقًا، ولا تحتاج إلى تبادل للحصول على رمز وصول. ما عليك سوى تمرير مفتاح API الخاص بك كمعامل في طلبك وسيعمل ببساطة.

في السيناريوهات الواقعية، تكون الغرض الأكثر شيوعًا عند بناء المنتجات هو تكامل المنتج. هنا حالة استخدام نموذجية:

### مثال: التكامل مع Stripe

تستخدم Stripe مفاتيح API للتكامل الآمن مع المنصات والتطبيقات المختلفة. يمكنك إنشاء وعرض وحذف وإدارة هذه المفاتيح من خلال لوحة تحكم المطورين. باستخدام مفاتيح API، يمكنك دمج ميزات الدفع والفوترة الخاصة بـ Stripe في منتجك.

![Stripe-integration-API keys.png](https://uploads.strapi.logto.io/Stripe_integration_API_keys_cb6a2bc679.png)

## ما الفرق بين الرموز الشخصية (PAT) والاتصال من آلة إلى آلة (M2M)؟

عند الحديث عن مفاتيح API، يمكن أيضًا ذكر الرموز الشخصية والاتصال من آلة إلى آلة معًا نظرًا لأنهم جميعًا يمكنهم الوصول إلى موارد API برمجيًا من خلال أوامر CLI، أو إقامة اتصال بين خدمات الخادم الخلفي.

### الرموز الشخصية (PATs)

الرمز الشخصي هو أيضًا سلسلة لكنه يمثل ***هوية وامتيازات مستخدم محدد***، يتم إنشاؤه ديناميكيًا عند نجاح المصادقة أو تسجيل الدخول، وعادةً ما تكون له عمر محدود ولكن يمكن تحديثه. يوفر تحكمًا دقيقًا في الوصول إلى البيانات والإمكانيات الخاصة بالمستخدمين، وتُستخدم بشكل شائع لأدوات CLI، والنصوص البرمجية، أو الوصول الشخصي إلى API. الفرق الرئيسي أنه أكثر تحديدًا ويُستخدم لإجراءات معينة للمستخدم.

### الاتصال من آلة إلى آلة (M2M)

الاتصال من آلة إلى آلة هو عندما تقوم الأجهزة بتبادل البيانات تلقائيًا دون تدخل بشري بمعنى أوسع.

في سياق OIDC (أو OAuth 2.0)، تستخدم تطبيقات M2M تدفق بيانات بيانات الاعتماد الخاص بالعميل، كما هو محدد في [بروتوكول OAuth 2.0 RFC 6749](https://datatracker.ietf.org/doc/html/rfc6749)، والذي يدعم بروتوكولات معيارية مماثلة. عادةً ما يتضمن تطبيق العميل (آلة أو خدمة) الوصول إلى الموارد إما بمفرده أو نيابةً عن مستخدم. إنه مثالي للمواقف التي يمكن فيها للعملاء الموثوق بهم فقط الوصول إلى الخدمات الخلفية.

<SeeAlso slugs={["machine-to-machine"]} />